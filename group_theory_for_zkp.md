Group Theory Primer and Lagrange Theorem
========================================

**Group**: a group is a non-empty set with an operation $\times$ that satisfies the following:
- the operation is associative: i.e. $a \times b \times c = a \times (b \times c)$
- there is an identity element: i.e. $1 \times  a = a, a \times 1 = a$
- there is an inverse for every group element, i.e. $\forall a \in \mathbb{G},$ there is a $b$ such that $a \times b = 1$ and $b \times a = 1$

**Subgroup:** given a group $\mathbb{G}$ under operation $\times$, a subset $\mathbb{H}$ of $\mathbb{G}$ is called a subgroup of $\mathbb{G}$ if $\mathbb{H}$ also forms a group under the operation $\times$

For example, a **trivial subgroup** is the subgroup only containing the identity element.

**Cyclic Group:** A cyclic group is a group generated by a single element. That is, it is a set of invertible elements with a single associative binary operation ($\times$), and it contains an element $g$ such that every other element of the group can be obtained by repeatedly applying the group operation to $g$ or its inverse.

The **order** of a finite group is the number its element. We say the infinite group's order infinite. notation: $ord(\mathbb{G})$ or $|\mathbb{G}|$

The **order** of an element of a group is the order of the subgroup generated by the element, i.e. the smallest positive integer such that: 
$$a^m = e$$
where $e$ is the identity element of the group.

**Facts about cyclic groups:** 
- Every infinite cyclic group is isomorphic to the additive group of $Z$, a.k.a. the integers. 
- Every finite cyclic group of order $n$ is isomorphic to the additive group of $Z/nZ$, a.k.a. the integers modulo $n$. 
- Every cyclic group is an abelian group.


## Subgroup Tests
Suppose $\mathbb{G}$ is a group, and $\mathbb{H}$ is a subset of $\mathbb{G}$
- $\mathbb{H}$ is a subgroup of $\mathbb{G}$ if and only if $\mathbb{H}$ is nonempty and closed under $\times$ and inverses
- When $\mathbb{H}$ is finite, we only need to test if $\mathbb{H}$  is nonempty and closed under $\times$


## Properties of Subgroups

- The identity of a subgroup is the identity of the group
- The inverse of an element in a subgroup is the inverse of the element in the group
- If $\mathbb{H}$ is a subgroup of $\mathbb{G}$, then the inclusion map $\mathbb{H} \rightarrow \mathbb{G}$ sending each element of $\mathbb{H}$ to itself is a homomorphism
- The intersection of subgroups $\mathbb{A}$ and $\mathbb{B}$ of $\mathbb{G}$ is again a subgroup of $\mathbb{G}$ (How to prove it? seems non-trivial)
- The union of subgroups $\mathbb{A}$ and $\mathbb{B}$ is a subgroup if and only if $\mathbb{A} \subseteq \mathbb{B}$ or $\mathbb{B} \subseteq \mathbb{A}$
- If $S$ is a subset of a group $\mathbb{G}$, then there exists a smallest subgroup containing $S$, namely the intersection of all the subgroups containing $S$, we denote this group $\langle S \rangle$. An element of $G$ is in $\langle S 
angle$ if and only if it is a finite product of elements of $S$ and their inverses, possibly repeated.
- Every element $a$ of a group $\mathbb{G}$ generate a cyclic group $\langle a 
angle$. If $\langle a 
angle$ is isomorphic to $z/nZ$ for some positive integer $n$, then $n$ is the smallest positive integer for which $a^n = e$

## Cosets and Lagrange Theorem

Intuitively, a subgroup $\mathbb{H}$ of a group $\mathbb{G}$ used to decompose the underlying set of $\mathbb{G}$ into disjoint, equal-size subsets called cosets.

> **Cosets**:
> Let $\mathbb{H}$ be a subgroup of the group $\mathbb{G}$, given an element $g$ of $\mathbb{G}$, the **left cosets** of $\mathbb{H}$ in $\mathbb{G}$ are the sets obtained by multiplying each element of $\mathbb{H}$ :
> $$g\mathbb{H} = \{gh: h \in \mathbb{H}\}$$
> Similarly, the **right cosets** are defined by fixing $g$ as a right factor:
> $$\mathbb{H} g = \{hg: h \in \mathbb{H}\}$$
> As $g$ varies, many cosets could be generated. However, *any two left cosets (respectively right cosets) are either disjoint or are identical as sets* ([[#^corollary-of-coset-equality]]).  We normally would use the additive notation when the group is abelian.

We write $\mathbb{G}:\mathbb{H}$ for the set of left cosets of $\mathbb{H}$ by elements of $\mathbb{G}$ so $\mathbb{G}:\mathbb{H} = \{g\mathbb{H} : g \in \mathbb{G}\}$, and  $|\mathbb{G}:\mathbb{H}|$ for its size. Similarly, $\mathbb{H}:\mathbb{G}$ is the set of right cosets of $\mathbb{H}$ by elements of $\mathbb{G}$. Sometime we also call the $|\mathbb{G}:\mathbb{H}|$ as index of a subgroup $\mathbb{H}$ in a group $\mathbb{G}$ and denote it as $[\mathbb{G}:\mathbb{H}]$ or 

For example, we know that $2\mathbb{Z} = \{2\mathbb{Z} : z \in \mathbb{Z}\}$, the set of all even integers, is a subgroup of $(\mathbb{Z}, +)$.  Then the coset $1+2\mathbb{Z} = {1+2z: z \in \mathbb{Z}}$ is the set of all odd integers. 

> **Coset Equality Lemma**
> Let $\mathbb{G}$ be a group and $\mathbb{H}$ a subgroup of $\mathbb{G}$. Then $g\mathbb{H} = k\mathbb{H}$ if and only if $g^{-1}k \in \mathbb{H}$. Similarly, $\mathbb{H}g = \mathbb{H}k$ if and only if $k g^{-1} \in \mathbb{H}$

**Proof:** 
(we only proof the statement about left coset)
If $g\mathbb{H} = k\mathbb{H}$, then since $e \in \mathbb{H}$, $k = k e \in k \mathbb{H}$, thus, $k \in g\mathbb{H}$. So multiplying on the left by the inverse of $g$ we get $g^{-1} k \in \mathbb{H}$.

If $g^{-1}k \in \mathbb{H}$, we denote $g^{-1}k=h$, so $k=gh$. Every element of $k\mathbb{H}$ is equal to $kh'$ for some $h' \in \mathbb{H}$, we know $kh' = ghh' = g(hh') \in g \mathbb{H}$. This shows every element of $k\mathbb{H}$ is also in $g\mathbb{H}$, thus $k\mathbb{H} \subseteq g\mathbb{H}$.
Similarly, since $k = gh$, we have $g = k h^{-1}$. Every element of $g\mathbb{H}$ is equal to $g h''$ for some $h'' \in \mathbb{H}$ , we know $gh'' = kh^{-1} h''=k(h^{-1} h'') \in k\mathbb{H}$. This shows every element of $g\mathbb{H}$ is also in $k\mathbb{H}$, thus  $g\mathbb{H} \subseteq k \mathbb{H}$. So, $g \mathbb{H} = k \mathbb{H}$.

> **Corollary of Coset Equality Lemma** 
> If $g\mathbb{H} \cap k\mathbb{H} \neq \emptyset$ , then $g\mathbb{H} = k\mathbb{H}$ 

**Proof:**
Let $x \in g\mathbb{H} \cap k \mathbb{H}$, then $x = g h_1 = k h_2$ for some $h_1, h_2 \in \mathbb{H}$. Rearranging gives $g^{-1} k = h_1 h_2^{-1} \in \mathbb{H}$. By the Coset Equality Lemma, $g\mathbb{H} = k\mathbb{H}$ 
^corollary-of-coset-equality

> **Coset Size Lemma**
> $|g\mathbb{H}| = |\mathbb{H}| = |\mathbb{H}g|$

**Proof:**
(We only prove the first equality)
We prove this lemma by writing down a bijection between $\mathbb{H}$ and $g \mathbb{H}$. Define $\alpha: \mathbb{H} \rightarrow g \mathbb{H}$ by $\alpha(h) = g h$.

$\alpha$ is one to one: if $\alpha(h_1) = \alpha(h_2)$, then $g h_1 =  g h_2$, multiply $g^{-1}$ to the left we get $h_1 = h_2$.

$\alpha$ is onto: for any element of $g\mathbb{H}$, without loss of generality, we can represent the element as $g h$ for some $h \in \mathbb{H}$, since $\alpha(h) = g h$, so $g h$ is in the image of $\alpha$.
^coset-size-lemma

> **Lagrange's theorem**:
> If $\mathbb{H}$ is a subgroup of a group $\mathbb{G}$, then $|\mathbb{G}| = |\mathbb{G}:\mathbb{H}|\cdot |\mathbb{H}|$ 

**Intuition:** The theorem states that for a subgroup $\mathbb{H}$ of a finite group $\mathbb{G}$, not only is $|\mathbb{G}|/|\mathbb{H}|$ is an integer, but its value a.k.a. $|\mathbb{G}:\mathbb{H}|$, defined as the number of left cosets of $\mathbb{H}$ in $\mathbb{G}$.

**Proof 1:**  Let the distinct cosets of $\mathbb{H}$ in $\mathbb{G}$ be $g_1 \mathbb{H}, \ldots, g_m \mathbb{H}$, so $m = |\mathbb{G}:\mathbb{H}|$. We will show every element of $\mathbb{G}$ belongs to exactly one of these cosets. 
- For any $g \in \mathbb{G}$, we have $g \in g \mathbb{H}$, so every element of $\mathbb{G}$ belongs to exactly one of these cosets
- [[#^corollary-of-coset-equality | Corollary of Coset Equality]] shows that cosets $g_1 \mathbb{H}, \ldots, g_m \mathbb{H}$ don't have any elements in common, so:
 $$|\mathbb{G}| = |g_1 \mathbb{H}| + \ldots + |g_m \mathbb{H}|$$
  since $|g_i \mathbb{H}| = |\mathbb{H}|$, by [[#^coset-size-lemma |Coset Size Lemma]] we get $|\mathbb{G}| = m |\mathbb{H}| = |\mathbb{G}:\mathbb{H}| \cdot |\mathbb{H}|$ as required.

**Proof 2:** The left cosets of $\mathbb{H}$ in $\mathbb{G}$ are the equivalence classes of a certain equivalence relation on $\mathbb{G}$: specifically, call $x$ and $y$ in $\mathbb{G}$ equivalent if there exists $h$ in $\mathbb{H}$ such that $x = yh$ (We proved this in [[#^corollary-of-coset-equality | Corollary of Coset Equality]]). Therefore, the left cosets forms a partition of $\mathbb{G}$. Each left coset $g \mathbb{H}$ has the same cardinality because we can find a bijection from $\mathbb{H}$ to $g\mathbb{H}$ (We proved this in [[#^coset-size-lemma |Coset Size Lemma]]). We denote the number of distinct left cosets as the index $|\mathbb{G}:\mathbb{H}|$. So 
$$|\mathbb{G}| = |\mathbb{G}:\mathbb{H}|\cdot |\mathbb{H}|$$

## Applications of Lagrange Theorem

> **Corollary 1**
> Let $\mathbb{G}$ be a finite group and $g \in \mathbb{G}$. Then the order of $g$ divides the order of $\mathbb{G}$

The proof is quite trivial, we will leave the reader to figure it out.

> **Corollary 2**
> Let $\mathbb{G}$ be a group whose order is prime number $p$, then $\mathbb{G}$ is cyclic.

**Proof:**
Let $e \neq g \in \mathbb{G}$. Consider the subgroup $<g>$  of $\mathbb{G}$. Its size divides $|\mathbb{G}| = p$ by Lagrange's theorem, so it is $1$ or $p$, but it is larger than one as it at least contains $e$ and $g$. So $|<g>| = p$, thus $<g> = \mathbb{G}$ and $\mathbb{G}$ is cyclic. 

> **Corollary 3: Fermat's Little Theorem**
> Let $a \in \mathbb{Z}$ and let $p$ be a prime number. Then $a^p \equiv a \mod p$ 

**Proof:**
If $a$ is divisible by $p$ then this is trivial. So let's suppose $a$ is not divisible by $p$, 

## References:
1. https://www.ucl.ac.uk/~ucahmto/0007_2021/4-7-cosets-and-lagranges-theorem.html
2. https://en.wikipedia.org/wiki/Index_of_a_subgroup
3. https://en.wikipedia.org/wiki/Coset
4. https://en.wikipedia.org/wiki/Group_(mathematics)
